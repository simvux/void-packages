# Template file for 'terminus-font'
pkgname=terminus-font
version=4.49.1
revision=2
build_style=gnu-configure
configure_args="--x11dir=/usr/share/fonts/X11/misc
 --psfdir=/usr/share/kbd/consolefonts"
make_install_target="install install-pcf-8bit install-otb"
hostmakedepends="python3 bdftopcf font-util"
depends="font-util"
short_desc="Clean, fixed width bitmap font"
maintainer="Orphaned <orphan@voidlinux.org>"
license="OFL-1.1, GPL-2.0-or-later"
homepage="http://terminus-font.sourceforge.net/"
distfiles="${SOURCEFORGE_SITE}/${pkgname}/${pkgname}-${version}.tar.gz"
checksum=d961c1b781627bf417f9b340693d64fc219e0113ad3a3af1a3424c7aa373ef79
font_dirs="/usr/share/fonts/X11/misc"
build_options="ao2 br1 dv1 ge2 gq2 hi2 ij1 ll2 td1"
build_options_default="td1"
desc_option_ao2="variation of ascii a"
desc_option_td1="center aligned tilde ~"
desc_option_ll1="variation of ascii l"
desc_option_hi1="higher upper case letters and digits"

do_patch() {
	for p in $build_options; do
		if [ $(vopt_if $p true false) = true ]; then
			echo "applying $p"
			patch < "alt/$p.diff"
		fi
	done
}

post_install() {
	vlicense OFL.TXT OFL.txt
	vinstall 75-yes-terminus.conf 644 etc/fonts/conf.avail
}
